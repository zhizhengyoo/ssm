<#include "header_seller.html">
<div class="heading">
    <div class="col-md-6 col-sm-6">
        <h2>发布书籍</h2>
    </div>
    <div class="col-md-6 col-sm-6" style="margin-top: 20px;text-align: right;">
        <button form="publishBookForm" type="submit" class="btn btn-1">发布</button>
        <button form="publishBookForm" type="reset" class="btn btn-warning">重置</button>
    </div>
    <div style="clear: both"></div>
</div>
<form id="publishbookform" class="form-horizontal" method="post" action="">
    <!--<div id="grid"></div>
    <script>
        $("#grid").kendoGrid({
            columns: [ {
                field: "name",
                editor: function(container, options) {
                    // create an input element
                    var input = $("<input/>");
                    // set its name to the field to which the column is bound ('name' in this case)
                    input.attr("name", options.field);
                    // append it to the container
                    input.appendTo(container);
                    // initialize a Kendo UI AutoComplete
                    input.kendoAutoComplete({
                        dataTextField: "name",
                        dataSource: [
                            { name: "Jane Doe" },
                            { name: "John Doe" }
                        ]
                    });
                }
            } ],
            editable: true,
            dataSource: [ { name: "Jane Doe" }, { name: "John Doe" } ]
        });
    </script>-->






 <!--   <input id="test">
    <script>
        var data = [
            { text: "Black", value: "1" },
            { text: "Orange", value: "2" },
            { text: "White", value: "3" }
        ];

        $("#test").kendoDropDownList({
            dataTextField: "text",
            dataValueField: "value",
            dataSource: data,
            index: 0 // 当前默认选中项，索引从0开始。
        });

    </script>-->

    <div class="form-group row">
        <label class="control-label col-md-2 col-sm-2">名称：</label>
        <div class="col-md-4 col-sm-4">
            <input id="bookname" type="text" class="form-control"
                   placeholder="名称"
                   name="bookname" required>
        </div>
        <label class="control-label col-md-2 col-sm-2">出版社：</label>
        <div class=" col-md-4 col-sm-4">
            <input class="form-control" placeholder="出版社名称"
                   name="publishcompany" required>
        </div>
    </div>
    <div class="form-group row">
        <label class="control-label col-md-2 col-sm-2">作者：</label>
        <div class=" col-md-4 col-sm-4">
            <input class="form-control" placeholder="作者" name="author" required>
        </div>
        <label class="control-label col-md-2 col-sm-2">价格：</label>
        <div class=" col-md-4 col-sm-4">
            <input type="number" class="form-control"
                   placeholder="价格"
                   name="price" required>								</div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2 col-sm-2">分类：</label>
        <div class=" col-md-4 col-sm-4">
            <div class="col-sm-6" style="margin-left: 0;padding-left: 0">
                <select id="firstcategory" class="form-control" name="parentcid">
                    <option value="">一级分类</option>
                    <#list firstCategoryList as firstCategory>
                        <option value="${firstCategory.categoryId}">${firstCategory.categoryName}</option>
                    </#list>
                </select>
            </div>
            <script>

                $("#firstcategory").change(function () {
                    var firstcategoryid = this.value;
                    if(firstcategoryid != ""){
                        $.ajax({
                            url:"secondcategory",
                            data:{
                                "parentcid":firstcategoryid,
                            },
                            type: "post",
//                            contentType: "application/json",
                            dataType:"json",
                            async: true,
                            error: function(request) {
                                alert("Connection error");
                            },
                            success:function (data) {
                                $("#secondcategory option").remove();
                                if (data == ""){
                                    $("#secondcategory").append("<option value=''>无</option>");
                                }else{
                                    $.each(data,function (idx,obj) {
                                        $("#secondcategory").append("<option value='"+obj.categoryId+"'>"+obj.categoryName+"</option>");
                                    })
                                }
                            }
                        });
                    }else {
                        $("#secondcategory option").remove();
                        $("#secondcategory").append("<option value=''>二级分类</option>");
                    }


                })
            </script>
            <div class="col-sm-6" style="margin-right: 0;padding-right: 0">
                <select id="secondcategory" class="form-control" name="usehoursid">
                    <option value="">二级分类</option>
                </select>
            </div>
        </div>
        <label class="control-label col-md-2 col-sm-2">新旧程度：</label>
        <div class=" col-md-4 col-sm-4">
            <select class="form-control" name="usehoursid">
                <#list useHoursList as useHours>
                    <option value="${useHours.useHoursId}">${useHours.useHoursStatus}</option>
                </#list>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2 col-sm-2">描述：</label>
        <div class=" col-md-10 col-sm-10">
									<textarea rows="6" class="form-control"
                                              placeholder="书籍信息" name="bookinfo"  required></textarea>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2 col-sm-2">封面：</label>
        <div class=" col-md-9 col-sm-9">
            <input type="file"
                   name="cover" required>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-2 col-sm-2">更多详图：</label>
        <div class=" col-md-9 col-sm-9">
            <input name="moreimg" type="file">
        </div>
    </div>

    <div style="clear:both;"></div>
</form>
<div style="clear:both;"></div>
    </body>